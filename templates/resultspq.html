<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="{{url_for('static',filename='vis.min.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static',filename='draw.js')}}"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
    <link href="{{ url_for('static', filename='vis.min.css') }}" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    
</head>
<body>
	{% extends "layout.html" %}
	{% block content %}
	
	<div class='standard'>
		<h1>Results</h1>
		<h4>Diameter Path: {{ value }}</h4>
		<div class='leftDiv'>
			<h4>Minimum Spanning Tree</h4>
			
			<div id="mynetwork"></div>
			<p id="demo"></p>
			<script>
				var x= {{ edges|tojson }};
				var counts = {{ nodes|tojson }};
				var dPath= {{ value|tojson }};
				
				myFunction(counts,x,dPath);
			</script>
			
			<script>
			var noiseRatio= {{ noise|tojson }};
			var intensityRatio= {{ intensity|tojson }};
			</script>
			<h4>
				Noise to signal ratio: {{noise}}<br>
				Sampling intensity: {{intensity}}<br>
				Select your threshold percent for noise:
			</h4>
			<div class="slidecontainer">
		    	<form method="POST" action="{{ url_for('noiseThreshold', filename=filename, filetype=filetype,noise=noise) }}">
			    	<input type="range" min="1" max="100" value="50" class="slider" id="myRange" name="name_of_slider">
			    	<input type="submit" value="submit" />
			  		<p>Value: <span id="slide"></span></p>
		  		</form>
			</div>

			<script>
			var slider = document.getElementById("myRange");
			var output = document.getElementById("slide");
			output.innerHTML = slider.value;
			
			slider.oninput = function() {
			  output.innerHTML = this.value;
			}
			</script>
			
		</div>

		<div id="chart" class="rightDiv">
			<h4>Ordering of samples</h4>
			<canvas id="myChart1" width="600" height="400"></canvas>
			<script>
				var order= {{ ordering|tojson }};
				drawChart(order,counts);
			</script>
			
			<h4>Candidate Orderings for samples generated using PQ trees</h4>
			<div id="pq"></div>
			
			<script>
				var pqOrders= {{ pq_orders|tojson }};
				var pqPerm={{ pq|tojson }};
				displayPQ(counts,pqPerm,pqOrders);
			</script>
			
			
		</div>
		
	</div>
	
		
	
	{% endblock %}
</body>
</html>